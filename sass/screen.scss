@import "color";
@import "variables";
@import "layout";
@import "mixins";
@import "structure";

@import "compass/support";
@import "compass/css3/background-size";

body {
  background-color: map-get($color-grey, '50');
  height: auto;
  min-height: 100%;
}

$link-color: map-get($primary-color-palette, '500');
$link-hover-color: map-get($primary-color-palette, '300');
$link-active-color:  map-get($primary-color-palette, '700');

a {
  color: $link-color; 
  text-decoration: none;
  
  &:hover {
    color: $link-hover-color;
  }
  
  .active {
    color: $link-active-color;
  }
}

.text-muted {
  color: map-get($color-grey, '500');
  
  a {
    color: $link-active-color;
    
    &:hover {
      color: $link-color;
    }
  }
}

// header
header.page-header {
  .brand-image {  
    background: url('../images/header3.jpg') no-repeat center center; 
    @include background-size(cover);
   
    height: 300px;
   
    img {
      height: 100px;
      padding-left: $layout-gutter-width;
    }
  }
  
  .menu { 
    @extend .md-shadow-bottom-z-1;
  
    background-color: $background-color-base;
  
    list-style-type: none;
    padding: 0;
    margin: 0;
    
    li {
      flex: 1;
      flex-direction: row;
      box-sizing: border-box;
      display: flex;
      
      // active
      &.current-menu-item {
        > a {
          color: $link-active-color;
        }
      }
      
      // dropdown
      &.menu-item-has-children {
        > a {
          &:after {
            content: '';
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-top: 4px solid #000;
            display: inline-block;
            margin-left: 4px;
            vertical-align: middle;
          }
          &:hover:after {
            border-top-color: $link-hover-color;
          } 
        }
        
        &.current-menu-item {
          > a:after {
            border-top-color: $link-active-color;
          }
        }
      }
      
      a {
        text-align: center;

        color: $foreground-primary-color;
        font-size: $h3-font-size-base;
        
        padding: $baseline-grid ($baseline-grid/2);
        
        text-decoration: none;
        
        &:hover {
          color: $link-hover-color;
        }
      }
      
      // submenu
      .sub-menu {
        display: none;
      }
      &.menu-item-has-children:hover {
        position: relative;
        > .sub-menu {
          @extend .md-shadow-bottom-z-2;

          background-color: $background-color-base;

          position: absolute;
          top: 30px;
          left: 0;
          right: 0;
          display: block;
         
          list-style-type: none;
          padding: $baseline-grid ($baseline-grid/2);
          margin: 0;

         
          a {
            text-align: left;
          }
        }
      }
    }
  }
}

// content
#primary {

  .card {
    @extend .md-shadow-bottom-z-1;

    margin: $layout-gutter-width;
    padding: $layout-gutter-width;
    background-color: $background-color-base;
  }
}

p:first-child {
  margin-top: 0;
}

.entry-title {
  margin: 0;
}

.archive-header {
  margin-left: $layout-gutter-width;
}

#nav-below {
  margin-top: -($layout-gutter-width/2);
  margin-left: $layout-gutter-width;
  margin-right: $layout-gutter-width;

  .nav-previous {
    
  }
  
  .nav-next {
    text-align: right;
  }
}

// widgets
#secondary {
  padding: $layout-gutter-width;
}

.widget {
  font-size: $h5-font-size-base;
  
  .widget-title {
    margin-bottom: 0;
  }
  &:first-child .widget-title {
    margin-top: 0;
  }

  
  ul {
    list-style-type: none;
    padding: 0;
    margin: 0;
  
    li {
      padding: ($layout-gutter-width/2) 0;

      border-top: 1px solid map-get($color-grey, '200');
      
      &:first-child {
        border-top: none;
      }
    }
  }
}

// footer
footer.page-footer {
  padding: $layout-gutter-width;
}